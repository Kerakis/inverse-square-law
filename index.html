<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/main.css" />
    <title>Radiography Inverse Square Law Calculator</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway&display=swap"
      rel="stylesheet"
    />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <script type="text/x-mathjax-config">
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ["\\(", "\\)"]],
          processEscapes: true,
        }
      }
    </script>
    <script src="scripts/main.js" defer></script>
  </head>
  <body>
    <div class="content">
      <div class="main">
        <header>
          <h1>
            Radiography
            <span id="titleColorChange">Inverse Square Law</span> Calculator
          </h1>
        </header>

        <div class="selection">
          <h2>What are you solving for?</h2>
          <button
            type="button"
            name="showDistanceButton"
            id="showDistanceButton"
          >
            Distance
          </button>
          <button
            type="button"
            name="showIntensityButton"
            id="showIntensityButton"
          >
            Intensity
          </button>
        </div>
        <div class="inputs">
          <div id="distanceInputs">
            <label for="intensity1A"
              >What is the original intensity of the beam?</label
            >
            <input
              id="intensity1A"
              class="distanceFields"
              type="text"
              required
            />
            <label for="distance1A"
              >What is the original source to image-receptor distance?</label
            >
            <input
              id="distance1A"
              class="distanceFields"
              type="text"
              required
            />
            <label for="intensity2A"
              >What is the new intensity of the beam?</label
            >
            <input
              id="intensity2A"
              class="distanceFields"
              type="text"
              required
            />
            <div class="answers">
              <div id="distanceLeadIn"></div>
              <div id="answerDistance">Hidden Text</div>
            </div>
            <button type="submit" name="distanceButton" id="distanceButton">
              Submit
            </button>
            <button
              type="button"
              name="clearDistanceValues"
              id="clearDistanceValues"
            >
              Reset
            </button>
          </div>
        </div>
        <div class="inputs">
          <div id="intensityInputs">
            <label for="intensity1B"
              >What is the original intensity of the beam?</label
            >
            <input
              id="intensity1B"
              class="intensityFields"
              type="text"
              required
            />
            <label for="distance1B"
              >What is the original source to image-receptor distance?</label
            >
            <input
              id="distance1B"
              class="intensityFields"
              type="text"
              required
            />
            <label for="distance2B"
              >What is the new source to image-receptor distance?</label
            >
            <input
              id="distance2B"
              class="intensityFields"
              type="text"
              required
            />
            <div class="answers">
              <div id="intensityLeadIn"></div>
              <div id="answerIntensity">Hidden Text</div>
            </div>
            <button type="button" name="intensityButton" id="intensityButton">
              Submit
            </button>
            <button
              type="button"
              name="clearIntensityValues"
              id="clearIntensityValues"
            >
              Reset
            </button>
          </div>
        </div>
      </div>
      <div class="info">
        <div id="legendTitle">
          <h2>The Inverse Square Law</h2>
        </div>
        <div class="imageContainer">
          <img
            id="ISLImage"
            src="images/ISL.svg"
            alt="The Inverse Square Law"
          />
          <p>
            <a
              href="https://en.wikipedia.org/wiki/Inverse-square_law#/media/File:Inverse_square_law.svg"
              title="Creative Commons Attribution-Share Alike 3.0"
              target="_blank"
              >Inverse Square Law</a
            >
            by Borb CC BY-SA 3.0
          </p>
        </div>
        <div class="legend">
          <p class="legendText">Solving for Distance uses the formula:</p>
          <p>$$ D_2=\sqrt{I_1\cdot D_1^2\over I_2} $$</p>
          <p class="legendText">Solving for Intensity uses the formula:</p>
          <p>$$ I_2 = \frac{I_1\cdot D_1^2}{D_2^2} $$</p>
          <p class="legendText">\( I_1 = \) The original Intensity</p>
          <p class="legendText">
            \( D_1 = \) The original source to image-receptor Distance
          </p>
          <p class="legendText">\( I_2 = \) The new Intensity</p>
          <p class="legendText">
            \( D_2 = \) The new source to image-receptor Distance
          </p>
        </div>
      </div>
      <div class="sliderBox">
        <div id="sliderTitle">
          <h2>Visualization of Distance Changes</h2>
        </div>
        <div class="sliderInfo">
          <p>
            Let's assume that an average person undergoing a PA chest x-ray exam
            will receive a dose of approximately 0.1 mSv from a technique of 100
            kVp and 2 mAs at a source to image-receptor distance of 72".
            Assuming this, use the following slider to move the x-ray tube
            closer to or further from the patient to see how the patient's dose
            will be affected.
          </p>
        </div>
        <div class="sliderContainer">
          <div class="patientImage">
            <img
              class="sliderImages"
              src="images/person.svg"
              alt="The Patient"
            />
          </div>
          <input
            type="range"
            min="12"
            max="144"
            value="72"
            class="slider"
            id="myRange"
          />
        </div>
        <div class="sliderResponse">
          <p>
            Distance from Radiation Source:
            <span class="sliderText" id="sliderDistanceText"></span>"
          </p>
          <p>Dose: <span class="sliderText" id="sliderDoseText"></span> mSv</p>
        </div>
      </div>
    </div>
    <div class="background"></div>
    <footer>
      Made with <span id="heart">&#10084;</span> by
      <a
        href="mailto:rlupchurch3@gmail.com?subject=The%20Inverse%20Square%20Law%20Calculator"
        id="nameColorChange"
        >Rob Upchurch</a
      >
      &copy; 2021
    </footer>
  </body>
</html>
